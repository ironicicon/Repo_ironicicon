<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>SimpleCalendar</title>
		<link rel="stylesheet" href="assets/css/style.css">
		<link rel="stylesheet" href="assets/css/bootstrap.css">
		<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
		<script src="assets/js/simplecalendar.js" type="text/javascript"></script>
		<script src="assets/js/bootstrap.js" type="text/javascript"></script>
		<script>
			$(document).ready(function(){
				$('#CreateEvent').click(function(e){
					e.preventDefault();
					var enteredDate= $('#DateTime').val();
					//2015-08-31
					var dayNum=enteredDate.split('-')[2];
					if(dayNum <10)
					{
						dayNum=(enteredDate.split('-')[2]).substring(1,2);
					}
					var monthNum=enteredDate.split('-')[1];
					if(monthNum <10)
					{
						monthNum=(enteredDate.split('-')[1]).substring(1,2);
					}
					var manipulatedDescription= "<div class='day-event' date-month='"+monthNum+"' date-day='"+dayNum+"'><a href='#' class='close fontawesome-remove'></a><h2 class='title'>"+$('#Title').val()+"</h2><p class='date'>"+enteredDate+"</p><p>"+$('#Desc').val()+"</p></div>";
					
					//adding class
					var day=(enteredDate.split('-')[2]%7)-1; //gives number
					var whichRow=Math.floor(enteredDate.split('-')[2]/7);
					//addClass event to show a notification to user					
					$($('.event-calendar')[0].children[whichRow].children[day]).addClass("event");
					$('#Cal').append(manipulatedDescription);
					
					//do ajax insert / post into the DB
						var JSONObj=[];
						var item={};
						item["date"]=enteredDate;
						item["title"]=$('#Title').val();
						item["description"]=$('#Desc').val();
						item["User"]="user";
						JSONObj.push(item);
						/*$.ajax{(
							url:'http://url.com',
							method:'post',
							data:JSON.
						});*/
						console.log(JSONObj);
					});
			});
		</script>
	</head>
	<body class="container">
		<div class=" col-lg-12">
			<div class="col-lg-6">
				<div class="calendar-container">
					<div class="calendar">
						<header>
							<h2 class="month"></h2>
							<a class="btn-prev fontawesome-angle-left" href="#"></a>
							<a class="btn-next fontawesome-angle-right" href="#"></a>
						</header>
						<table>
							<thead class="event-days">
								<tr></tr>
							</thead>
							<tbody class="event-calendar">
								<tr class="1"></tr>
								<tr class="2"></tr>
								<tr class="3"></tr>
								<tr class="4"></tr>
								<tr class="5"></tr>
							</tbody>
						</table>
						<div id="Cal" class="list">
							<div class="day-event" date-month="8" date-day="4">
								<a href="#" class="close fontawesome-remove"></a>
								<h2 class="title">Lorem ipsum 1</h2>
								<p class="date">2014-12-16</p>
								<p>Lorem Ipsum är en utfyllnadstext från tryck- och förlagsindustrin. Lorem ipsum har varit standard ända sedan 1500-talet, när en okänd boksättare tog att antal bokstäver och blandade dem för att göra ett provexemplar av en bok.</p>
								<label class="col-md-12">
									<span>Read more!</span>
								</label>
							</div>							
						</div>
					</div>
				</div>
			</div>
			<div class=" col-lg-6">
				<div class="input-container">
					<form action="#">
						<p class="page-header" style="text-align:center;">Create an event</p>
						<div class="col-md-12">
							<div class="col-md-12">
								<label for="DateTime" class="col-md-6">Enter the date and Time</label>
								<input type="date" class="col-md-6" required id="DateTime">
							</div>
							<div class="col-md-12" style="padding-top:10px;">
								<label for="Title" class="col-md-6">Enter the Title of the meeting</label>
								<input type="text" class="col-md-6" style="height:40px;" required placeholder="Title of the meeting" id="Title">
							</div>
							<div class="col-md-12" style="padding-top:10px;">
								<label for="Desc" class="col-md-6">Description</label>
								<textarea cols="25" class="col-md-6" required placeholder="Meeting Description" id="Desc"></textarea>
							</div>
							<div class="col-md-12" style="padding-top:10px;">
								<button class="btn btn-primary col-md-10 col-md-offset-1"  id="CreateEvent" type="submit">Create Event</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
